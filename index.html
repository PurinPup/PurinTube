<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MiniTube - SkipVids Clone</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin:0; padding:0;
    background: linear-gradient(-45deg, #1a1a2e, #162447, #1f4068, #e43f5a);
    background-size: 400% 400%;
    animation: gradientBG 25s ease infinite;
    color:white;
}

@keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
}

header {
    background: rgba(0,0,0,0.6);
    color:white;
    padding:15px;
    text-align:center;
    font-size:28px;
    font-weight:bold;
    position: sticky;
    top:0;
    z-index:100;
}

#search-bar {
    display:flex;
    justify-content:center;
    margin:20px;
}

#search-input {
    width:60%;
    padding:12px;
    font-size:16px;
    border-radius:5px;
    border:none;
}

#search-button {
    padding:12px 20px;
    font-size:16px;
    margin-left:10px;
    cursor:pointer;
    border-radius:5px;
    border:none;
    background:#ff0000;
    color:white;
}

#results {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:15px;
    padding:10px;
}

.video-card {
    background: rgba(0,0,0,0.5);
    width:320px;
    cursor:pointer;
    border-radius:5px;
    overflow:hidden;
    box-shadow:0 2px 5px rgba(0,0,0,0.5);
    transition: transform 0.2s;
}

.video-card:hover {
    transform: scale(1.05);
}

.video-card img {
    width:100%;
    display:block;
}

.video-info {
    padding:10px;
}

.video-title {
    font-size:16px;
    font-weight:bold;
    color:white;
}

.video-channel {
    font-size:14px;
    color:#ccc;
    margin-top:5px;
}

#player-container {
    display:none;
    text-align:center;
    margin:20px auto;
}

#close-player {
    margin:10px;
    cursor:pointer;
    color:#ff0000;
    font-weight:bold;
    font-size:18px;
}

iframe {
    border-radius:8px;
    max-width:90%;
}
</style>
</head>
<body>

<header>MiniTube</header>

<div id="search-bar">
    <input type="text" id="search-input" placeholder="Search YouTube videos">
    <button id="search-button">Search</button>
</div>

<div id="results"></div>

<div id="player-container">
    <div id="close-player">âœ– Close Video</div>
    <iframe id="video-player" width="560" height="315" src="" title="YouTube video player"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
</div>

<script>
// === CONFIG ===
const API_KEY = "AIzaSyA0dB47HuMpQGQqA2ZF8fMLrHAMDEhlPgo"; // <- Replace this with your YouTube Data API key
const MAX_RESULTS = 12;

// Elements
const searchButton = document.getElementById('search-button');
const searchInput = document.getElementById('search-input');
const results = document.getElementById('results');
const playerContainer = document.getElementById('player-container');
const videoPlayer = document.getElementById('video-player');
const closePlayer = document.getElementById('close-player');

// Search function
searchButton.addEventListener('click', async () => {
    const query = searchInput.value.trim();
    if (!query) return;
    results.innerHTML = 'Loading...';

    try {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=${MAX_RESULTS}&q=${encodeURIComponent(query)}&key=${API_KEY}`);
        const data = await res.json();

        results.innerHTML = '';
        data.items.forEach(item => {
            const videoId = item.id.videoId;
            const title = item.snippet.title;
            const channel = item.snippet.channelTitle;
            const thumbnail = item.snippet.thumbnails.high.url;

            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <img src="${thumbnail}" alt="Thumbnail">
                <div class="video-info">
                    <div class="video-title">${title}</div>
                    <div class="video-channel">${channel}</div>
                </div>
            `;
            card.addEventListener('click', () => {
                videoPlayer.src = `https://www.youtube.com/embed/${videoId}`;
                playerContainer.style.display = 'block';
                window.scrollTo({ top: playerContainer.offsetTop - 20, behavior: 'smooth' });
            });
            results.appendChild(card);
        });
    } catch(err) {
        results.innerHTML = 'Error fetching results.';
        console.error(err);
    }
});

// Close player
closePlayer.addEventListener('click', () => {
    videoPlayer.src = '';
    playerContainer.style.display = 'none';
});
</script>

</body>
</html>
